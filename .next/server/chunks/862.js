exports.id=862,exports.ids=[862],exports.modules={48741:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},9451:(e,r,t)=>{Promise.resolve().then(t.bind(t,68776)),Promise.resolve().then(t.bind(t,28312)),Promise.resolve().then(t.bind(t,38165))},68776:(e,r,t)=>{"use strict";t.d(r,{ErrorBoundary:()=>n});var s=t(10326),a=t(17577),o=t.n(a);class n extends o().Component{constructor(e){super(e),this.resetError=()=>{this.setState({hasError:!1,error:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r)}render(){if(this.state.hasError){if(this.props.fallback){let e=this.props.fallback;return s.jsx(e,{error:this.state.error,resetError:this.resetError})}return s.jsx("div",{className:"min-h-screen bg-brand-cream flex items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"bg-brand-white rounded-xl p-8 shadow-sm border border-brand-gold/20 text-center max-w-md",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:s.jsx("span",{className:"text-red-600 text-2xl",children:"⚠️"})}),s.jsx("h2",{className:"font-prompt font-bold text-xl text-brand-dark mb-4",children:"Something went wrong"}),s.jsx("p",{className:"text-brand-dark/60 mb-6",children:"We encountered an unexpected error. Please try refreshing the page."}),s.jsx("button",{onClick:this.resetError,className:"bg-brand-gold text-brand-white px-6 py-2 rounded-lg font-prompt font-medium hover:bg-brand-hover transition-colors",children:"Try Again"})]})})}return this.props.children}}},28312:(e,r,t)=>{"use strict";t.d(r,{NetworkStatusIndicator:()=>o});var s=t(10326),a=t(17577);function o(){let{isOnline:e,wasOffline:r}=function(){let[e,r]=(0,a.useState)(!0),[t,s]=(0,a.useState)(!1);return{isOnline:e,wasOffline:t}}();return e&&!r?null:s.jsx("div",{className:`fixed top-0 left-0 right-0 z-50 px-4 py-2 text-center text-sm font-prompt transition-colors ${e?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:e?"✅ Back online - data will sync":"⚠️ No internet connection - working offline"})}},61615:(e,r,t)=>{"use strict";t.d(r,{a:()=>d});var s=t(10326),a=t(17577),o=t(8792),n=t(81985),i=t(99837);function d({onFoodSelect:e,onFoodDetail:r,initialQuery:t="",maxResults:n=20,allowMultiSelect:d=!1,className:c=""}){let{isLoading:u,error:h,searchResults:m,searchMeta:g,searchFoodsSimple:x,getFoodDetail:p,clearResults:f,isAvailable:b}=(0,o.X)(),[y,w]=(0,a.useState)(t),[v,j]=(0,a.useState)(new Set),[N,S]=(0,a.useState)(null),[k,C]=(0,a.useState)({dataType:["Foundation","Branded"],sortBy:"lowercaseDescription.keyword",sortOrder:"asc"}),P=(0,a.useCallback)(async()=>{if(y.trim())try{await x(y.trim(),{pageSize:n,pageNumber:0,dataType:k.dataType,sortBy:k.sortBy,sortOrder:k.sortOrder})}catch(e){console.error("Search error:",e)}},[y,n,k,x]),E=(0,a.useCallback)(async r=>{if(e)try{let t=await p(r.fdcId,"abridged");e(t.foodItem),d?j(e=>{let t=new Set(e);return t.has(r.fdcId)?t.delete(r.fdcId):t.add(r.fdcId),t}):j(new Set([r.fdcId]))}catch(e){console.error("Error selecting food:",e)}},[e,p,d]),B=(0,a.useCallback)(e=>{"Enter"===e.key&&P()},[P]),I=(0,a.useCallback)(()=>{w(""),j(new Set),f()},[f]);return!1===N?(0,s.jsxs)("div",{className:`bg-yellow-50 border border-yellow-200 rounded-lg p-4 ${c}`,children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-5 h-5 bg-yellow-400 rounded-full mr-2"}),s.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"FDC Search Unavailable"})]}),s.jsx("p",{className:"text-sm text-yellow-700",children:"The USDA FoodData Central service is currently unavailable. You can still add foods manually."})]}):(0,s.jsxs)("div",{className:`space-y-4 ${c}`,children:[(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full mr-2"}),s.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Search USDA Food Database"})]}),s.jsx("p",{className:"text-sm text-blue-700",children:"Search from 300,000+ foods with automatic color categorization and nutritional information."})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:y,onChange:e=>w(e.target.value),onKeyPress:B,placeholder:"Search for foods (e.g., 'chicken breast', 'quinoa', 'blueberries')",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:u}),s.jsx(i.z,{onClick:P,disabled:u||!y.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:u?"Searching...":"Search"}),(m.length>0||y)&&s.jsx(i.z,{onClick:I,className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Clear"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-gray-600",children:"Data Type:"}),(0,s.jsxs)("select",{value:k.dataType.join(","),onChange:e=>C(r=>({...r,dataType:e.target.value.split(",").filter(Boolean)})),className:"border border-gray-300 rounded px-2 py-1",children:[s.jsx("option",{value:"Foundation,Branded",children:"Foundation & Branded"}),s.jsx("option",{value:"Foundation",children:"Foundation Only"}),s.jsx("option",{value:"Branded",children:"Branded Only"}),s.jsx("option",{value:"Survey",children:"Survey Foods"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-gray-600",children:"Sort by:"}),(0,s.jsxs)("select",{value:k.sortBy,onChange:e=>C(r=>({...r,sortBy:e.target.value})),className:"border border-gray-300 rounded px-2 py-1",children:[s.jsx("option",{value:"lowercaseDescription.keyword",children:"Name"}),s.jsx("option",{value:"dataType.keyword",children:"Type"}),s.jsx("option",{value:"publishedDate",children:"Date"})]})]})]})]}),h&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:s.jsx("p",{className:"text-sm text-red-600",children:h})}),g&&s.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 rounded-lg p-3",children:(0,s.jsxs)("p",{children:["Found ",g.resultsCount,' results for "',g.query,'"',g.resultsCount>=n&&` (showing first ${n})`]})}),m.length>0&&(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Search Results"}),s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:m.map(e=>s.jsx(l,{food:e,isSelected:v.has(e.fdcId),onSelect:()=>E(e),onViewDetail:()=>r?.(e.fdcId)},e.fdcId))})]}),v.size>0&&d&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm text-green-800",children:[v.size," food",1!==v.size?"s":""," selected"]})})]})}function l({food:e,isSelected:r,onSelect:t,onViewDetail:a}){return s.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-colors ${r?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:t,children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(n.r,{category:e.category||"yellow",size:"sm",children:e.category||"yellow"}),s.jsx("h5",{className:"font-medium text-gray-900 truncate",children:e.description})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500",children:[s.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:e.dataType}),(0,s.jsxs)("span",{children:["FDC ID: ",e.fdcId]}),e.brandOwner&&s.jsx("span",{className:"bg-blue-100 px-2 py-1 rounded",children:e.brandOwner})]}),e.portionGuidelines&&s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e.portionGuidelines})]}),a&&s.jsx(i.z,{onClick:e=>{e.stopPropagation(),a()},className:"ml-2 px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded",children:"Details"})]})})}},38165:(e,r,t)=>{"use strict";t.d(r,{AuthProvider:()=>h,a:()=>u});var s=t(10326),a=t(17577),o=t(46791),n=t(76),i=t(76025);class d{async signIn(e,r){try{return(await (0,o.e5)(i.I,e,r)).user}catch(e){throw Error(this.getAuthErrorMessage(e.code))}}async createCoach(e,r,t){try{let s=await (0,o.Xb)(i.I,e,r),a={email:e,name:t,createdAt:n.EK.now(),preferences:{colorCodingStyle:"standard"}};await (0,n.pl)((0,n.JU)(i.db,"coaches",s.user.uid),a)}catch(e){throw Error(this.getAuthErrorMessage(e.code))}}async signOut(){try{await (0,o.w7)(i.I)}catch(e){throw Error("Failed to sign out. Please try again.")}}async getCoachProfile(e){try{let r=(0,n.JU)(i.db,"coaches",e),t=await (0,n.QT)(r);if(t.exists())return{id:t.id,...t.data()};return null}catch(e){return console.error("Error fetching coach profile:",e),null}}onAuthStateChange(e){return(0,o.Aj)(i.I,e)}getCurrentUser(){return i.I.currentUser}getAuthErrorMessage(e){switch(e){case"auth/user-not-found":return"No account found with this email address.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/email-already-in-use":return"An account with this email already exists.";case"auth/weak-password":return"Password should be at least 6 characters long.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";default:return"An error occurred during authentication. Please try again."}}}let l=new d,c=(0,a.createContext)(void 0);function u(){let e=(0,a.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function h({children:e}){let[r,t]=(0,a.useState)(null),[o,n]=(0,a.useState)(null),[i,d]=(0,a.useState)(!0),u=async(e,r)=>{d(!0);try{await l.signIn(e,r)}catch(e){throw d(!1),e}},h=async(e,r,t)=>{d(!0);try{await l.createCoach(e,r,t),await l.signIn(e,r)}catch(e){throw d(!1),e}},m=async()=>{d(!0);try{await l.signOut()}catch(e){throw d(!1),e}},g=async()=>{if(r)try{let e=await l.getCoachProfile(r.uid);n(e)}catch(e){console.error("Error refreshing coach profile:",e)}};return s.jsx(c.Provider,{value:{user:r,coach:o,loading:i,signIn:u,signUp:h,signOut:m,refreshCoachProfile:g},children:e})}},99837:(e,r,t)=>{"use strict";t.d(r,{z:()=>o});var s=t(10326);t(17577);var a=t(41135);function o({variant:e="primary",size:r="md",children:t,isLoading:o=!1,disabled:n,className:i,...d}){return s.jsx("button",{className:(0,a.W)("font-prompt font-medium transition-all duration-200 focus:ring-2 focus:ring-brand-focus focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-brand-gold text-brand-dark hover:bg-brand-hover disabled:hover:bg-brand-gold",secondary:"bg-brand-dark text-brand-white hover:bg-brand-dark/90",outline:"border-2 border-brand-gold text-brand-gold hover:bg-brand-gold hover:text-brand-dark",ghost:"text-brand-gold hover:bg-brand-gold/10"}[e],{sm:"px-3 py-1.5 text-sm rounded-md min-h-[36px]",md:"px-4 py-2 text-base rounded-lg min-h-[44px] touch-target",lg:"px-6 py-3 text-lg rounded-lg min-h-[52px]"}[r],i),disabled:n||o,...d,children:o?(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Loading..."})]}):t})}},81985:(e,r,t)=>{"use strict";t.d(r,{r:()=>o});var s=t(10326);t(17577);var a=t(41135);function o({category:e,children:r,size:t="md",className:o}){return s.jsx("span",{className:(0,a.W)("inline-flex items-center rounded-full border font-prompt transition-all duration-200",{blue:"bg-food-blue-100 text-food-blue-800 border-food-blue-200",yellow:"bg-food-yellow-100 text-food-yellow-800 border-food-yellow-200",red:"bg-food-red-100 text-food-red-800 border-food-red-200"}[e],{sm:"px-2 py-1 text-xs font-medium",md:"px-3 py-1.5 text-sm font-medium",lg:"px-4 py-2 text-base font-semibold"}[t],o),children:r})}},76025:(e,r,t)=>{"use strict";t.d(r,{I:()=>d,db:()=>i});var s=t(42585),a=t(76),o=t(46791);let n=(0,s.ZF)({apiKey:"AIzaSyBQZagyMTpFNsoSOh4cKT8PVV_xbCuiX8s",authDomain:"ingredients-for-ownershi-81eaf.firebaseapp.com",projectId:"ingredients-for-ownershi-81eaf",storageBucket:"ingredients-for-ownershi-81eaf.firebasestorage.app",messagingSenderId:"855662446831",appId:"1:855662446831:web:deff590004f93f5cec731a"}),i=(0,a.ad)(n),d=(0,o.v0)(n)},54733:(e,r,t)=>{"use strict";t.d(r,{a:()=>s.a});var s=t(38165)},8792:(e,r,t)=>{"use strict";t.d(r,{X:()=>o});var s=t(17577),a=t(54733);function o(){let{user:e}=(0,a.a)(),[r,t]=(0,s.useState)({isLoading:!1,error:null,searchResults:[],searchMeta:null}),o=(0,s.useCallback)(async()=>{if(!e)throw Error("User not authenticated");let r=await e.getIdToken();return{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}},[e]),n=(0,s.useCallback)(async e=>{t(e=>({...e,isLoading:!0,error:null}));try{let r=await o(),s=await fetch("/api/fdc/search",{method:"POST",headers:r,body:JSON.stringify(e)});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to search foods")}let a=await s.json();return t(e=>({...e,isLoading:!1,searchResults:a.data,searchMeta:a.meta})),a.data}catch(r){let e=r instanceof Error?r.message:"Unknown error occurred";throw t(r=>({...r,isLoading:!1,error:e})),r}},[o]),i=(0,s.useCallback)(async(e,r)=>{t(e=>({...e,isLoading:!0,error:null}));try{let s=await o(),a=new URLSearchParams({query:e});r?.pageSize&&a.set("pageSize",r.pageSize.toString()),r?.pageNumber&&a.set("pageNumber",r.pageNumber.toString()),r?.dataType&&a.set("dataType",r.dataType.join(",")),r?.sortBy&&a.set("sortBy",r.sortBy),r?.sortOrder&&a.set("sortOrder",r.sortOrder);let n=await fetch(`/api/fdc/search?${a}`,{method:"GET",headers:s});if(!n.ok){let e=await n.json();throw Error(e.error||"Failed to search foods")}let i=await n.json();return t(e=>({...e,isLoading:!1,searchResults:i.data,searchMeta:i.meta})),i.data}catch(r){let e=r instanceof Error?r.message:"Unknown error occurred";throw t(r=>({...r,isLoading:!1,error:e})),r}},[o]),d=(0,s.useCallback)(async(e,r="abridged")=>{t(e=>({...e,isLoading:!0,error:null}));try{let s=await o(),a=new URLSearchParams({format:r}),n=await fetch(`/api/fdc/foods/${e}?${a}`,{method:"GET",headers:s});if(!n.ok){let e=await n.json();throw Error(e.error||"Failed to fetch food details")}let i=await n.json();return t(e=>({...e,isLoading:!1})),i.data}catch(r){let e=r instanceof Error?r.message:"Unknown error occurred";throw t(r=>({...r,isLoading:!1,error:e})),r}},[o]),l=(0,s.useCallback)(async(e,r="abridged",s)=>{t(e=>({...e,isLoading:!0,error:null}));try{let a=await o(),n=await fetch("/api/fdc/foods",{method:"POST",headers:a,body:JSON.stringify({fdcIds:e,format:r,nutrients:s})});if(!n.ok){let e=await n.json();throw Error(e.error||"Failed to fetch foods details")}let i=await n.json();return t(e=>({...e,isLoading:!1})),i.data}catch(r){let e=r instanceof Error?r.message:"Unknown error occurred";throw t(r=>({...r,isLoading:!1,error:e})),r}},[o]),c=(0,s.useCallback)(()=>{t({isLoading:!1,error:null,searchResults:[],searchMeta:null})},[]),u=(0,s.useCallback)(async()=>{try{let e=await o(),r=await fetch("/api/fdc/search?query=apple&pageSize=1",{method:"GET",headers:e});return 503!==r.status}catch(e){return!1}},[o]);return{isLoading:r.isLoading,error:r.error,searchResults:r.searchResults,searchMeta:r.searchMeta,searchFoods:n,searchFoodsSimple:i,getFoodDetail:d,getFoodsDetails:l,clearResults:c,isAvailable:u}}},32325:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>y,metadata:()=>f,viewport:()=>b});var s=t(19510),a=t(68570);let o=(0,a.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\components\providers\AuthProvider.tsx`),{__esModule:n,$$typeof:i}=o;o.default,(0,a.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\components\providers\AuthProvider.tsx#useAuth`);let d=(0,a.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\components\providers\AuthProvider.tsx#AuthProvider`),l=(0,a.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\components\ErrorBoundary.tsx`),{__esModule:c,$$typeof:u}=l;l.default;let h=(0,a.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\components\ErrorBoundary.tsx#ErrorBoundary`),m=(0,a.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\components\NetworkStatus.tsx`),{__esModule:g,$$typeof:x}=m;m.default,(0,a.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\components\NetworkStatus.tsx#useNetworkStatus`);let p=(0,a.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\components\NetworkStatus.tsx#NetworkStatusIndicator`);t(5023);let f={title:"Ingredients for Ownership - Health Coaching Platform",description:"AI-assisted nutritional plan creation for health coaches",manifest:"/manifest.json"},b={width:"device-width",initialScale:1,maximumScale:1,themeColor:"#BD9A60"};function y({children:e}){return(0,s.jsxs)("html",{lang:"en",children:[(0,s.jsxs)("head",{children:[s.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),s.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"})]}),s.jsx("body",{className:"font-prompt antialiased",suppressHydrationWarning:!0,children:s.jsx(d,{children:(0,s.jsxs)(h,{children:[s.jsx(p,{}),e]})})})]})}},5023:()=>{},41135:(e,r,t)=>{"use strict";function s(){for(var e,r,t=0,s="",a=arguments.length;t<a;t++)(e=arguments[t])&&(r=function e(r){var t,s,a="";if("string"==typeof r||"number"==typeof r)a+=r;else if("object"==typeof r){if(Array.isArray(r)){var o=r.length;for(t=0;t<o;t++)r[t]&&(s=e(r[t]))&&(a&&(a+=" "),a+=s)}else for(s in r)r[s]&&(a&&(a+=" "),a+=s)}return a}(e))&&(s&&(s+=" "),s+=r);return s}t.d(r,{W:()=>s})}};
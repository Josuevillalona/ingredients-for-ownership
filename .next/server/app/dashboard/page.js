(()=>{var e={};e.id=702,e.ids=[702],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},12633:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>d.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>i}),s(38256),s(22834),s(32325),s(35866);var t=s(23191),a=s(88716),n=s(37922),d=s.n(n),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(r,o);let i=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,38256)),"C:\\Users\\josue\\Documents\\Builds\\ingredients-for-ownership\\src\\app\\dashboard\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,22834)),"C:\\Users\\josue\\Documents\\Builds\\ingredients-for-ownership\\src\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,32325)),"C:\\Users\\josue\\Documents\\Builds\\ingredients-for-ownership\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\josue\\Documents\\Builds\\ingredients-for-ownership\\src\\app\\dashboard\\page.tsx"],x="/dashboard/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},56558:(e,r,s)=>{Promise.resolve().then(s.bind(s,59530))},59530:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var t=s(10326),a=s(17577),n=s(90434),d=s(99837),l=s(56608),o=s(38165),i=s(81370);function c(){return t.jsx(l.i,{children:t.jsx(x,{})})}function x(){let{user:e,coach:r,signOut:s}=(0,o.a)(),[l,c]=(0,a.useState)([]),[x,m]=(0,a.useState)(!0),[h,p]=(0,a.useState)(null),[u,b]=(0,a.useState)(""),g=new i.H,f=async()=>{if(e)try{m(!0),p(null);let r=await g.getCoachDocuments(e.uid,50);c(r)}catch(e){console.error("Error loading plans:",e),p("Failed to load plans. Please try again.")}finally{m(!1)}},j=async()=>{try{await s()}catch(e){console.error("Error signing out:",e)}},N=async r=>{if(e&&confirm("Are you sure you want to delete this plan? This action cannot be undone."))try{await g.deleteDocument(r,e.uid),await f()}catch(e){console.error("Error deleting plan:",e),alert("Failed to delete plan. Please try again.")}},v=l.filter(e=>e.clientName.toLowerCase().includes(u.toLowerCase())),w={totalPlans:l.length,publishedPlans:l.filter(e=>"published"===e.status).length,draftPlans:l.filter(e=>"draft"===e.status).length,recentActivity:l.length>0?"Active":"No plans yet"};return(0,t.jsxs)("div",{className:"min-h-screen bg-brand-cream",children:[t.jsx("header",{className:"bg-brand-dark shadow-lg border-b border-brand-gold/20",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-brand-gold rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-brand-white font-prompt font-bold text-lg",children:"I"})}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-brand-white font-prompt font-bold text-2xl",children:"Coach Dashboard"}),r&&(0,t.jsxs)("p",{className:"text-brand-white/70 text-sm font-prompt",children:["Welcome back, ",r.name]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx(n.default,{href:"/dashboard/plans/create",children:t.jsx(d.z,{variant:"primary",children:"Create New Plan"})}),t.jsx(n.default,{href:"/dashboard/profile",children:t.jsx(d.z,{variant:"secondary",className:"text-brand-white border-brand-white/20 hover:bg-brand-white/10",children:"Profile"})}),t.jsx(d.z,{variant:"secondary",onClick:j,className:"text-brand-white border-brand-white/20 hover:bg-brand-white/10",children:"Sign Out"})]})]})})}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-brand-white rounded-xl p-6 shadow-sm border border-brand-gold/20",children:[t.jsx("h3",{className:"font-prompt font-semibold text-brand-dark mb-2",children:"Total Plans"}),t.jsx("p",{className:"text-3xl font-prompt font-bold text-brand-gold",children:x?"...":w.totalPlans})]}),(0,t.jsxs)("div",{className:"bg-brand-white rounded-xl p-6 shadow-sm border border-brand-gold/20",children:[t.jsx("h3",{className:"font-prompt font-semibold text-brand-dark mb-2",children:"Published"}),t.jsx("p",{className:"text-3xl font-prompt font-bold text-green-600",children:x?"...":w.publishedPlans})]}),(0,t.jsxs)("div",{className:"bg-brand-white rounded-xl p-6 shadow-sm border border-brand-gold/20",children:[t.jsx("h3",{className:"font-prompt font-semibold text-brand-dark mb-2",children:"Drafts"}),t.jsx("p",{className:"text-3xl font-prompt font-bold text-yellow-600",children:x?"...":w.draftPlans})]}),(0,t.jsxs)("div",{className:"bg-brand-white rounded-xl p-6 shadow-sm border border-brand-gold/20",children:[t.jsx("h3",{className:"font-prompt font-semibold text-brand-dark mb-2",children:"Status"}),t.jsx("p",{className:"text-lg font-prompt font-bold text-brand-gold",children:x?"Loading...":w.recentActivity})]})]}),(0,t.jsxs)("div",{className:"bg-brand-white rounded-xl shadow-sm border border-brand-gold/20",children:[t.jsx("div",{className:"p-6 border-b border-brand-gold/20",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"font-prompt font-bold text-xl text-brand-dark",children:["Nutrition Plans (",v.length,")"]}),t.jsx("p",{className:"text-brand-dark/60 font-prompt text-sm",children:"Manage your client nutrition plans"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("svg",{className:"w-5 h-5 text-brand-dark/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t.jsx("input",{type:"text",value:u,onChange:e=>b(e.target.value),placeholder:"Search by client name...",className:"w-full sm:w-64 pl-10 pr-4 py-2 border border-brand-gold/20 rounded-lg bg-brand-white   focus:outline-none focus:ring-2 focus:ring-brand-gold focus:border-transparent   font-prompt text-brand-dark placeholder-brand-dark/40"})]}),(0,t.jsxs)(d.z,{onClick:f,variant:"secondary",size:"sm",children:[t.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]})]})}),t.jsx("div",{className:"p-6",children:x?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-brand-gold rounded-full mx-auto mb-4 flex items-center justify-center animate-pulse",children:t.jsx("span",{className:"text-brand-white font-prompt font-bold text-2xl",children:"I"})}),t.jsx("p",{className:"text-brand-dark/60 font-prompt",children:"Loading your plans..."})]}):h?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-prompt font-bold text-2xl",children:"!"})}),t.jsx("h3",{className:"font-prompt font-bold text-xl text-brand-dark mb-2",children:"Error Loading Plans"}),t.jsx("p",{className:"text-brand-dark/60 font-prompt mb-4",children:h}),t.jsx(d.z,{onClick:f,variant:"primary",children:"Try Again"})]}):0===v.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-brand-gold/20 rounded-full mx-auto mb-4 flex items-center justify-center",children:t.jsx("span",{className:"text-brand-gold text-2xl",children:"\uD83D\uDCCB"})}),t.jsx("h3",{className:"font-prompt font-bold text-xl text-brand-dark mb-2",children:u?"No Plans Found":"No Plans Yet"}),t.jsx("p",{className:"text-brand-dark/60 font-prompt mb-4",children:u?`No plans found matching "${u}". Try a different search term.`:"Create your first nutrition plan to get started."}),!u&&t.jsx(n.default,{href:"/dashboard/plans/create",children:t.jsx(d.z,{variant:"primary",children:"Create Your First Plan"})})]}):t.jsx("div",{className:"space-y-4",children:v.map(e=>{let r=e.ingredients.filter(e=>e.isSelected).length,s=e.ingredients.length;return t.jsx("div",{className:"border border-brand-gold/20 rounded-lg p-4 hover:border-brand-gold hover:bg-brand-cream/30 transition-all duration-200",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,t.jsxs)("h3",{className:"font-prompt font-bold text-lg text-brand-dark",children:[e.clientName,"'s Nutrition Plan"]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-prompt font-medium ${"published"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:"published"===e.status?"Published":"Draft"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-brand-dark/60 font-prompt",children:[(0,t.jsxs)("span",{children:["Created: ",e.createdAt.toDate().toLocaleDateString()]}),(0,t.jsxs)("span",{children:["Updated: ",e.updatedAt.toDate().toLocaleDateString()]}),(0,t.jsxs)("span",{children:["Foods: ",r," selected of ",s]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(n.default,{href:`/dashboard/plans/${e.id}`,children:t.jsx(d.z,{variant:"secondary",size:"sm",children:"View"})}),t.jsx(n.default,{href:`/dashboard/plans/${e.id}/edit`,children:t.jsx(d.z,{variant:"primary",size:"sm",children:"Edit"})}),t.jsx(d.z,{variant:"secondary",size:"sm",onClick:()=>N(e.id),className:"text-red-600 hover:bg-red-50 border-red-200",children:"Delete"})]})]})},e.id)})})})]}),!x&&v.length>0&&(0,t.jsxs)("div",{className:"mt-8 bg-brand-white rounded-xl p-6 shadow-sm border border-brand-gold/20",children:[t.jsx("h2",{className:"font-prompt font-bold text-xl text-brand-dark mb-6",children:"Quick Actions"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsx(n.default,{href:"/dashboard/plans/create",children:t.jsx("div",{className:"p-4 border-2 border-dashed border-brand-gold/30 rounded-lg hover:border-brand-gold hover:bg-brand-cream/50 transition-colors cursor-pointer",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-brand-gold/10 rounded-lg mx-auto mb-3 flex items-center justify-center",children:t.jsx("span",{className:"text-brand-gold text-xl",children:"�"})}),t.jsx("h3",{className:"font-prompt font-medium text-brand-dark",children:"Create New Plan"}),t.jsx("p",{className:"text-sm text-brand-dark/60 mt-1",children:"Design a nutrition plan"})]})})}),t.jsx("div",{onClick:()=>{let e=`${window.location.origin}/share/${v[0]?.shareToken}`;navigator.clipboard.writeText(e),alert("Latest plan share link copied to clipboard!")},className:"p-4 border-2 border-dashed border-brand-gold/30 rounded-lg hover:border-brand-gold hover:bg-brand-cream/50 transition-colors cursor-pointer",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-brand-gold/10 rounded-lg mx-auto mb-3 flex items-center justify-center",children:t.jsx("span",{className:"text-brand-gold text-xl",children:"\uD83D\uDD17"})}),t.jsx("h3",{className:"font-prompt font-medium text-brand-dark",children:"Share Latest Plan"}),t.jsx("p",{className:"text-sm text-brand-dark/60 mt-1",children:"Copy share link"})]})}),t.jsx(n.default,{href:"/dashboard/profile",children:t.jsx("div",{className:"p-4 border-2 border-dashed border-brand-gold/30 rounded-lg hover:border-brand-gold hover:bg-brand-cream/50 transition-colors cursor-pointer",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-brand-gold/10 rounded-lg mx-auto mb-3 flex items-center justify-center",children:t.jsx("span",{className:"text-brand-gold text-xl",children:"⚙️"})}),t.jsx("h3",{className:"font-prompt font-medium text-brand-dark",children:"Settings"}),t.jsx("p",{className:"text-sm text-brand-dark/60 mt-1",children:"Manage your profile"})]})})})]})]})]})]})}},38256:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>d,__esModule:()=>n,default:()=>l});var t=s(68570);let a=(0,t.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\app\dashboard\page.tsx`),{__esModule:n,$$typeof:d}=a;a.default;let l=(0,t.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\app\dashboard\page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[948,53,48,120,370],()=>s(12633));module.exports=t})();
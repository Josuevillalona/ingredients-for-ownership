(()=>{var e={};e.id=198,e.ids=[198],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},13724:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d}),r(4904),r(22834),r(32325),r(35866);var s=r(23191),a=r(88716),n=r(37922),i=r.n(n),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["dashboard",{children:["clients",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4904)),"C:\\Users\\josue\\Documents\\Builds\\ingredients-for-ownership\\src\\app\\dashboard\\clients\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,22834)),"C:\\Users\\josue\\Documents\\Builds\\ingredients-for-ownership\\src\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,32325)),"C:\\Users\\josue\\Documents\\Builds\\ingredients-for-ownership\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\josue\\Documents\\Builds\\ingredients-for-ownership\\src\\app\\dashboard\\clients\\page.tsx"],m="/dashboard/clients/page",u={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/clients/page",pathname:"/dashboard/clients",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},48741:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},50714:(e,t,r)=>{Promise.resolve().then(r.bind(r,62231))},9451:(e,t,r)=>{Promise.resolve().then(r.bind(r,68776)),Promise.resolve().then(r.bind(r,28312)),Promise.resolve().then(r.bind(r,38165))},35303:()=>{},62231:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(10326),a=r(17577),n=r(90434),i=r(99837),o=r(87854),l=r(54733);function d({onSubmit:e,onCancel:t,isLoading:r=!1}){let[n,o]=(0,a.useState)({name:"",email:"",sessionNotes:"",goals:[""],restrictions:[""]}),[l,d]=(0,a.useState)({}),c=e=>{let{name:t,value:r}=e.target;o(e=>({...e,[t]:r})),l[t]&&d(e=>({...e,[t]:""}))},m=(e,t,r)=>{o(s=>({...s,[e]:s[e].map((e,s)=>s===t?r:e)}))},u=e=>{o(t=>({...t,[e]:[...t[e],""]}))},h=(e,t)=>{o(r=>({...r,[e]:r[e].filter((e,r)=>r!==t)}))},x=()=>{let e={};return n.name.trim()||(e.name="Client name is required"),n.email&&!n.email.includes("@")&&(e.email="Please enter a valid email address"),0===n.goals.filter(e=>e.trim().length>0).length&&(e.goals="At least one goal is required"),d(e),0===Object.keys(e).length},p=async t=>{if(t.preventDefault(),x())try{await e(n)}catch(e){}};return s.jsx("div",{className:"bg-brand-white rounded-xl p-6 shadow-sm border border-brand-gold/20",children:(0,s.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-brand-dark mb-2 font-prompt",children:"Client Name *"}),s.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:c,className:`w-full px-3 py-3 border rounded-lg focus:ring-2 focus:ring-brand-focus focus:border-transparent font-prompt ${l.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter client's full name"}),l.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.name})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-brand-dark mb-2 font-prompt",children:"Email Address (Optional)"}),s.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:c,className:`w-full px-3 py-3 border rounded-lg focus:ring-2 focus:ring-brand-focus focus:border-transparent font-prompt ${l.email?"border-red-300":"border-gray-300"}`,placeholder:"client@example.com"}),l.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.email})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"sessionNotes",className:"block text-sm font-medium text-brand-dark mb-2 font-prompt",children:"Session Notes"}),s.jsx("textarea",{id:"sessionNotes",name:"sessionNotes",value:n.sessionNotes,onChange:c,rows:3,className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-focus focus:border-transparent font-prompt resize-none",placeholder:"Initial session notes, health concerns, background info..."})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-brand-dark mb-2 font-prompt",children:"Health & Nutrition Goals *"}),n.goals.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:e,onChange:e=>m("goals",t,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-focus focus:border-transparent font-prompt",placeholder:`Goal ${t+1} (e.g., "Lose 15 pounds", "Increase energy")`}),n.goals.length>1&&s.jsx(i.z,{type:"button",variant:"outline",size:"sm",onClick:()=>h("goals",t),className:"px-3",children:"Remove"})]},t)),s.jsx(i.z,{type:"button",variant:"outline",size:"sm",onClick:()=>u("goals"),className:"mt-2",children:"+ Add Another Goal"}),l.goals&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.goals})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-brand-dark mb-2 font-prompt",children:"Dietary Restrictions & Allergies"}),n.restrictions.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:e,onChange:e=>m("restrictions",t,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-focus focus:border-transparent font-prompt",placeholder:`Restriction ${t+1} (e.g., "Gluten-free", "Nut allergy")`}),n.restrictions.length>1&&s.jsx(i.z,{type:"button",variant:"outline",size:"sm",onClick:()=>h("restrictions",t),className:"px-3",children:"Remove"})]},t)),s.jsx(i.z,{type:"button",variant:"outline",size:"sm",onClick:()=>u("restrictions"),className:"mt-2",children:"+ Add Another Restriction"})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[s.jsx(i.z,{type:"submit",variant:"primary",size:"lg",isLoading:r,className:"flex-1",children:r?"Creating Client...":"Create Client"}),s.jsx(i.z,{type:"button",variant:"outline",size:"lg",onClick:t,disabled:r,children:"Cancel"})]})]})})}function c({client:e,onEdit:t,onDelete:r}){var a;return(0,s.jsxs)("div",{className:"bg-brand-white rounded-xl p-6 shadow-sm border border-brand-gold/20 hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-prompt font-semibold text-xl text-brand-dark mb-1",children:e.name}),e.email&&s.jsx("p",{className:"text-brand-dark/60 text-sm font-prompt",children:e.email})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[t&&s.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>t(e),className:"text-brand-gold border-brand-gold/30 hover:bg-brand-gold/10",children:"Edit"}),r&&s.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>r(e),className:"text-red-600 border-red-200 hover:bg-red-50",children:"Delete"})]})]}),e.goals.length>0&&(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-brand-dark mb-2 font-prompt",children:"Goals:"}),(0,s.jsxs)("div",{className:"space-y-1",children:[e.goals.slice(0,2).map((e,t)=>(0,s.jsxs)("div",{className:"text-sm text-brand-dark/70 flex items-center",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-brand-gold rounded-full mr-2 flex-shrink-0"}),e]},t)),e.goals.length>2&&(0,s.jsxs)("p",{className:"text-xs text-brand-dark/50 font-prompt",children:["+",e.goals.length-2," more goals"]})]})]}),e.restrictions.length>0&&(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-brand-dark mb-2 font-prompt",children:"Restrictions:"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.restrictions.slice(0,3).map((e,t)=>s.jsx("span",{className:"px-2 py-1 bg-red-50 text-red-600 rounded-md text-xs font-prompt",children:e},t)),e.restrictions.length>3&&(0,s.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-md text-xs font-prompt",children:["+",e.restrictions.length-3]})]})]}),e.sessionNotes&&(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-brand-dark mb-1 font-prompt",children:"Notes:"}),s.jsx("p",{className:"text-sm text-brand-dark/70 line-clamp-2",children:e.sessionNotes.length>100?`${e.sessionNotes.substring(0,100)}...`:e.sessionNotes})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[(0,s.jsxs)("div",{className:"text-xs text-brand-dark/50 font-prompt",children:["Created: ",(a=e.createdAt)?(a.toDate?a.toDate():new Date(a)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Unknown"]}),s.jsx(n.default,{href:`/dashboard/clients/${e.id}`,children:s.jsx(i.z,{variant:"primary",size:"sm",children:"View Details"})})]})]})}function m(){let{clients:e,isLoading:t,error:r,createClient:m,deleteClient:u}=(0,o.a)(),{user:h,loading:x}=(0,l.a)(),[p,g]=(0,a.useState)(!1),[b,f]=(0,a.useState)(!1),[w,y]=(0,a.useState)(""),j=async e=>{f(!0);try{await m(e),g(!1)}catch(e){}finally{f(!1)}},v=async e=>{if(window.confirm(`Are you sure you want to delete ${e.name}? This action cannot be undone.`))try{await u(e.id)}catch(e){}},N=e.filter(e=>e.name.toLowerCase().includes(w.toLowerCase())||e.email?.toLowerCase().includes(w.toLowerCase())||e.goals.some(e=>e.toLowerCase().includes(w.toLowerCase())));return(0,s.jsxs)("div",{className:"min-h-screen bg-brand-cream",children:[s.jsx("header",{className:"bg-brand-dark shadow-lg border-b border-brand-gold/20",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx(n.default,{href:"/dashboard",className:"text-brand-white/60 hover:text-brand-white",children:"← Back"}),s.jsx("h1",{className:"text-brand-white font-prompt font-bold text-2xl",children:"My Clients"})]}),s.jsx(i.z,{variant:"primary",onClick:()=>g(!0),disabled:p,children:"Add New Client"})]})})}),(0,s.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[!1,r&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-red-600 text-sm font-prompt",children:r})}),p&&(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h2",{className:"font-prompt font-bold text-xl text-brand-dark mb-4",children:"Add New Client"}),s.jsx(d,{onSubmit:j,onCancel:()=>g(!1),isLoading:b})]}),t&&!p&&(0,s.jsxs)("div",{className:"bg-brand-white rounded-xl p-12 shadow-sm border border-brand-gold/20 text-center",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-brand-gold border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-brand-dark/60 font-prompt",children:"Loading your clients..."})]}),!t&&!p&&s.jsx(s.Fragment,{children:0===e.length?(0,s.jsxs)("div",{className:"bg-brand-white rounded-xl p-12 shadow-sm border border-brand-gold/20 text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-brand-cream rounded-full mx-auto mb-6 flex items-center justify-center",children:s.jsx("span",{className:"text-brand-gold text-4xl",children:"\uD83D\uDC65"})}),s.jsx("h2",{className:"font-prompt font-bold text-2xl text-brand-dark mb-4",children:"No Clients Yet"}),s.jsx("p",{className:"text-brand-dark/60 mb-8 max-w-md mx-auto",children:"Start building your coaching practice by adding your first client. You'll be able to create personalized nutrition plans for each client."}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(i.z,{variant:"primary",size:"lg",onClick:()=>{console.log("Add client button clicked"),g(!0)},children:"Add Your First Client"}),(0,s.jsxs)("div",{className:"text-sm text-brand-dark/60",children:["or ",s.jsx(n.default,{href:"/dashboard",className:"text-brand-gold hover:underline",children:"return to dashboard"})]})]})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"max-w-md",children:s.jsx("input",{type:"text",placeholder:"Search clients by name, email, or goals...",value:w,onChange:e=>y(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-focus focus:border-transparent font-prompt"})})}),s.jsx("div",{className:"mb-6",children:(0,s.jsxs)("p",{className:"text-brand-dark/60 font-prompt",children:[N.length," of ",e.length," clients",w&&` matching "${w}"`]})}),N.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(e=>s.jsx(c,{client:e,onDelete:v},e.id))}):(0,s.jsxs)("div",{className:"bg-brand-white rounded-xl p-8 shadow-sm border border-brand-gold/20 text-center",children:[(0,s.jsxs)("p",{className:"text-brand-dark/60 font-prompt",children:['No clients found matching "',w,'"']}),s.jsx(i.z,{variant:"outline",className:"mt-4",onClick:()=>y(""),children:"Clear Search"})]})]})})]})]})}},68776:(e,t,r)=>{"use strict";r.d(t,{ErrorBoundary:()=>i});var s=r(10326),a=r(17577),n=r.n(a);class i extends n().Component{constructor(e){super(e),this.resetError=()=>{this.setState({hasError:!1,error:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t)}render(){if(this.state.hasError){if(this.props.fallback){let e=this.props.fallback;return s.jsx(e,{error:this.state.error,resetError:this.resetError})}return s.jsx("div",{className:"min-h-screen bg-brand-cream flex items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"bg-brand-white rounded-xl p-8 shadow-sm border border-brand-gold/20 text-center max-w-md",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:s.jsx("span",{className:"text-red-600 text-2xl",children:"⚠️"})}),s.jsx("h2",{className:"font-prompt font-bold text-xl text-brand-dark mb-4",children:"Something went wrong"}),s.jsx("p",{className:"text-brand-dark/60 mb-6",children:"We encountered an unexpected error. Please try refreshing the page."}),s.jsx("button",{onClick:this.resetError,className:"bg-brand-gold text-brand-white px-6 py-2 rounded-lg font-prompt font-medium hover:bg-brand-hover transition-colors",children:"Try Again"})]})})}return this.props.children}}},28312:(e,t,r)=>{"use strict";r.d(t,{NetworkStatusIndicator:()=>n});var s=r(10326),a=r(17577);function n(){let{isOnline:e,wasOffline:t}=function(){let[e,t]=(0,a.useState)(!0),[r,s]=(0,a.useState)(!1);return{isOnline:e,wasOffline:r}}();return e&&!t?null:s.jsx("div",{className:`fixed top-0 left-0 right-0 z-50 px-4 py-2 text-center text-sm font-prompt transition-colors ${e?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:e?"✅ Back online - data will sync":"⚠️ No internet connection - working offline"})}},38165:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>u,a:()=>m});var s=r(10326),a=r(17577),n=r(46791),i=r(76),o=r(76025);class l{async signIn(e,t){try{return(await (0,n.e5)(o.I,e,t)).user}catch(e){throw Error(this.getAuthErrorMessage(e.code))}}async createCoach(e,t,r){try{let s=await (0,n.Xb)(o.I,e,t),a={email:e,name:r,createdAt:i.EK.now(),preferences:{colorCodingStyle:"standard"}};await (0,i.pl)((0,i.JU)(o.db,"coaches",s.user.uid),a)}catch(e){throw Error(this.getAuthErrorMessage(e.code))}}async signOut(){try{await (0,n.w7)(o.I)}catch(e){throw Error("Failed to sign out. Please try again.")}}async getCoachProfile(e){try{let t=(0,i.JU)(o.db,"coaches",e),r=await (0,i.QT)(t);if(r.exists())return{id:r.id,...r.data()};return null}catch(e){return console.error("Error fetching coach profile:",e),null}}onAuthStateChange(e){return(0,n.Aj)(o.I,e)}getCurrentUser(){return o.I.currentUser}getAuthErrorMessage(e){switch(e){case"auth/user-not-found":return"No account found with this email address.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/email-already-in-use":return"An account with this email already exists.";case"auth/weak-password":return"Password should be at least 6 characters long.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";default:return"An error occurred during authentication. Please try again."}}}let d=new l,c=(0,a.createContext)(void 0);function m(){let e=(0,a.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function u({children:e}){let[t,r]=(0,a.useState)(null),[n,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(!0),m=async(e,t)=>{l(!0);try{await d.signIn(e,t)}catch(e){throw l(!1),e}},u=async(e,t,r)=>{l(!0);try{await d.createCoach(e,t,r),await d.signIn(e,t)}catch(e){throw l(!1),e}},h=async()=>{l(!0);try{await d.signOut()}catch(e){throw l(!1),e}},x=async()=>{if(t)try{let e=await d.getCoachProfile(t.uid);i(e)}catch(e){console.error("Error refreshing coach profile:",e)}};return s.jsx(c.Provider,{value:{user:t,coach:n,loading:o,signIn:m,signUp:u,signOut:h,refreshCoachProfile:x},children:e})}},99837:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});var s=r(10326);r(17577);var a=r(41135);function n({variant:e="primary",size:t="md",children:r,isLoading:n=!1,disabled:i,className:o,...l}){return s.jsx("button",{className:(0,a.W)("font-prompt font-medium transition-all duration-200 focus:ring-2 focus:ring-brand-focus focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-brand-gold text-brand-dark hover:bg-brand-hover disabled:hover:bg-brand-gold",secondary:"bg-brand-dark text-brand-white hover:bg-brand-dark/90",outline:"border-2 border-brand-gold text-brand-gold hover:bg-brand-gold hover:text-brand-dark",ghost:"text-brand-gold hover:bg-brand-gold/10"}[e],{sm:"px-3 py-1.5 text-sm rounded-md min-h-[36px]",md:"px-4 py-2 text-base rounded-lg min-h-[44px] touch-target",lg:"px-6 py-3 text-lg rounded-lg min-h-[52px]"}[t],o),disabled:i||n,...l,children:n?(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Loading..."})]}):r})}},37464:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var s=r(76),a=r(76025);class n{async createClient(e,t){try{let r=(0,s.JU)((0,s.hJ)(a.db,this.collectionName)),n=r.id,i={coachId:e,name:t.name.trim(),sessionNotes:t.sessionNotes?.trim()||"",goals:t.goals.filter(e=>e.trim().length>0),restrictions:t.restrictions.filter(e=>e.trim().length>0),createdAt:s.EK.now(),lastUpdated:s.EK.now()};return t.email?.trim()&&(i.email=t.email.trim()),await (0,s.pl)(r,i),n}catch(e){throw Error(`Failed to create client: ${e.message}`)}}async getClientsForCoach(e){try{let t=(0,s.IO)((0,s.hJ)(a.db,this.collectionName),(0,s.ar)("coachId","==",e),(0,s.Xo)("lastUpdated","desc"));return(await (0,s.PL)(t)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw Error(`Failed to fetch clients: ${e.message}`)}}async getClient(e,t){try{let r=await (0,s.QT)((0,s.JU)(a.db,this.collectionName,e));if(!r.exists())return null;let n=r.data();if(n.coachId!==t)throw Error("Access denied: Client belongs to different coach");return{id:r.id,...n}}catch(e){throw Error(`Failed to fetch client: ${e.message}`)}}async updateClient(e,t,r){try{if(!await this.getClient(e,t))throw Error("Client not found or access denied");let n={lastUpdated:s.EK.now()};r.name?.trim()&&(n.name=r.name.trim()),void 0!==r.email&&(n.email=r.email?.trim()||void 0),void 0!==r.sessionNotes&&(n.sessionNotes=r.sessionNotes?.trim()||""),r.goals&&(n.goals=r.goals.filter(e=>e.trim().length>0)),r.restrictions&&(n.restrictions=r.restrictions.filter(e=>e.trim().length>0)),await (0,s.r7)((0,s.JU)(a.db,this.collectionName,e),n)}catch(e){throw Error(`Failed to update client: ${e.message}`)}}async deleteClient(e,t){try{if(!await this.getClient(e,t))throw Error("Client not found or access denied");await (0,s.oe)((0,s.JU)(a.db,this.collectionName,e))}catch(e){throw Error(`Failed to delete client: ${e.message}`)}}async searchClients(e,t){try{let r=await this.getClientsForCoach(e);if(!t.trim())return r;let s=t.toLowerCase();return r.filter(e=>e.name.toLowerCase().includes(s)||e.email?.toLowerCase().includes(s)||e.goals.some(e=>e.toLowerCase().includes(s)))}catch(e){throw Error(`Failed to search clients: ${e.message}`)}}constructor(){this.collectionName="clients"}}let i=new n},76025:(e,t,r)=>{"use strict";r.d(t,{I:()=>l,db:()=>o});var s=r(42585),a=r(76),n=r(46791);let i=(0,s.ZF)({apiKey:"AIzaSyBQZagyMTpFNsoSOh4cKT8PVV_xbCuiX8s",authDomain:"ingredients-for-ownershi-81eaf.firebaseapp.com",projectId:"ingredients-for-ownershi-81eaf",storageBucket:"ingredients-for-ownershi-81eaf.firebasestorage.app",messagingSenderId:"855662446831",appId:"1:855662446831:web:deff590004f93f5cec731a"}),o=(0,a.ad)(i),l=(0,n.v0)(i)},54733:(e,t,r)=>{"use strict";r.d(t,{a:()=>s.a});var s=r(38165)},87854:(e,t,r)=>{"use strict";r.d(t,{a:()=>i});var s=r(17577),a=r(54733),n=r(37464);function i(){let{user:e}=(0,a.a)(),[t,r]=(0,s.useState)([]),[i,o]=(0,s.useState)(!1),[l,d]=(0,s.useState)(null),c=async()=>{if(e){o(!0),d(null);try{let t=await n.T.getClientsForCoach(e.uid);r(t)}catch(e){d(e.message)}finally{o(!1)}}};return{clients:t,isLoading:i,error:l,createClient:async t=>{if(!e)throw Error("User not authenticated");try{let r=await n.T.createClient(e.uid,t);return await c(),r}catch(e){throw d(e.message),e}},updateClient:async(t,r)=>{if(!e)throw Error("User not authenticated");try{await n.T.updateClient(t,e.uid,r),await c()}catch(e){throw d(e.message),e}},deleteClient:async t=>{if(!e)throw Error("User not authenticated");try{await n.T.deleteClient(t,e.uid),await c()}catch(e){throw d(e.message),e}},searchClients:async t=>{if(!e)return[];try{return await n.T.searchClients(e.uid,t)}catch(e){return d(e.message),[]}},refetch:c}}},4904:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var s=r(68570);let a=(0,s.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\app\dashboard\clients\page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let o=(0,s.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\app\dashboard\clients\page.tsx#default`)},22834:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>a});var s=r(19510);let a={title:"Dashboard - Ingredients for Ownership",description:"Health coach dashboard for managing clients and nutrition plans"};function n({children:e}){return s.jsx("div",{className:"min-h-screen bg-brand-cream",children:e})}},32325:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w,metadata:()=>b,viewport:()=>f});var s=r(19510),a=r(68570);let n=(0,a.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\components\providers\AuthProvider.tsx`),{__esModule:i,$$typeof:o}=n;n.default,(0,a.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\components\providers\AuthProvider.tsx#useAuth`);let l=(0,a.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\components\providers\AuthProvider.tsx#AuthProvider`),d=(0,a.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\components\ErrorBoundary.tsx`),{__esModule:c,$$typeof:m}=d;d.default;let u=(0,a.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\components\ErrorBoundary.tsx#ErrorBoundary`),h=(0,a.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\components\NetworkStatus.tsx`),{__esModule:x,$$typeof:p}=h;h.default,(0,a.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\components\NetworkStatus.tsx#useNetworkStatus`);let g=(0,a.createProxy)(String.raw`C:\Users\josue\Documents\Builds\ingredients-for-ownership\src\components\NetworkStatus.tsx#NetworkStatusIndicator`);r(5023);let b={title:"Ingredients for Ownership - Health Coaching Platform",description:"AI-assisted nutritional plan creation for health coaches",manifest:"/manifest.json"},f={width:"device-width",initialScale:1,maximumScale:1,themeColor:"#BD9A60"};function w({children:e}){return(0,s.jsxs)("html",{lang:"en",children:[(0,s.jsxs)("head",{children:[s.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),s.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"})]}),s.jsx("body",{className:"font-prompt antialiased",suppressHydrationWarning:!0,children:s.jsx(l,{children:(0,s.jsxs)(u,{children:[s.jsx(g,{}),e]})})})]})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,53,48],()=>r(13724));module.exports=s})();
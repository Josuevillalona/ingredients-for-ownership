"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[639],{5639:function(e,a,i){i.d(a,{f:function(){return l}});var r=i(7437),t=i(2265),o=i(367),n=i(1602),s=i(6760);function l(e){let{onSuccess:a,onCancel:i,onManualAdd:l,className:d=""}=e,{createFood:c,loading:u,error:f}=(0,n.x)(),[g,m]=(0,t.useState)(null),[p,b]=(0,t.useState)(!1),v=async()=>{if(!g||!g.fdcId){console.error("No USDA food selected or missing FDC ID");return}b(!0);try{let e={name:g.name,category:g.category,description:g.description,servingSize:g.servingSize,portionGuidelines:g.portionGuidelines,nutritionalInfo:g.nutritionalInfo,fdcId:g.fdcId,tags:g.tags||[],source:"fdc-api"},i=await c(e);i&&(console.log("Successfully added USDA food: ".concat(g.name," (FDC ID: ").concat(g.fdcId,")")),null==a||a(i))}catch(e){console.error("Error adding USDA food:",e)}finally{b(!1)}};return(0,r.jsxs)("div",{className:"space-y-6 ".concat(d),children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Add New Food"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Search our database of USDA-verified foods for accurate nutritional data"})]}),f&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,r.jsx)("p",{className:"text-red-700 text-sm",children:f})}),!g&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Search Our Food Database"}),(0,r.jsx)(o.a,{onFoodSelect:e=>{m(e)},maxResults:10,className:"w-full"})]}),l&&(0,r.jsx)("div",{className:"border border-amber-200 bg-amber-50 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold text-amber-900 mb-2",children:"Can't find your food?"}),(0,r.jsx)("p",{className:"text-amber-800 text-sm mb-4",children:"If the food you're looking for isn't in our verified database, you can add it manually. Note: Manual entries won't have scientifically verified nutritional data."}),(0,r.jsx)(s.z,{onClick:l,variant:"outline",className:"border-amber-300 text-amber-800 hover:bg-amber-100",children:"Add Food Manually"})]})]})})]}),g&&(0,r.jsxs)("div",{className:"border border-green-200 bg-green-50 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Selected Food"}),(0,r.jsx)(s.z,{onClick:()=>{m(null)},variant:"outline",size:"sm",children:"Change Selection"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900",children:g.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["FDC ID: ",g.fdcId," • USDA Verified"]})]}),g.description&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Description:"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:g.description})]}),g.nutritionalInfo&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Nutrition (per 100g):"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 mt-2",children:[g.nutritionalInfo.calories&&(0,r.jsxs)("div",{className:"text-center p-2 bg-white rounded border",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-gray-900",children:g.nutritionalInfo.calories}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Calories"})]}),g.nutritionalInfo.protein&&(0,r.jsxs)("div",{className:"text-center p-2 bg-white rounded border",children:[(0,r.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[g.nutritionalInfo.protein,"g"]}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Protein"})]}),g.nutritionalInfo.carbs&&(0,r.jsxs)("div",{className:"text-center p-2 bg-white rounded border",children:[(0,r.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[g.nutritionalInfo.carbs,"g"]}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Carbs"})]}),g.nutritionalInfo.fat&&(0,r.jsxs)("div",{className:"text-center p-2 bg-white rounded border",children:[(0,r.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[g.nutritionalInfo.fat,"g"]}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Fat"})]}),g.nutritionalInfo.fiber&&(0,r.jsxs)("div",{className:"text-center p-2 bg-white rounded border",children:[(0,r.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[g.nutritionalInfo.fiber,"g"]}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Fiber"})]})]})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[(0,r.jsx)(s.z,{onClick:i,variant:"outline",disabled:p,children:"Cancel"}),(0,r.jsx)(s.z,{onClick:v,disabled:!g||p||u,className:"min-w-[120px]",children:p||u?"Adding...":"Add Food"})]}),(0,r.jsx)("div",{className:"text-center text-sm text-gray-500 pt-4",children:"✅ All foods are USDA-verified with accurate nutritional data"})]})}},1602:function(e,a,i){i.d(a,{x:function(){return c}});var r=i(2265),t=i(9842),o=i(5419);class n{async createFood(e,a){let i=(0,t.JU)((0,t.hJ)(o.db,this.collectionName)),r={...a,coachId:e,isGlobal:!1,createdAt:t.EK.now(),lastUpdated:t.EK.now()};return await (0,t.pl)(i,r),i.id}async getFoodsForCoach(e){try{let a=(0,t.IO)((0,t.hJ)(o.db,this.collectionName),(0,t.ar)("coachId","==",e),(0,t.Xo)("name"));return(await (0,t.PL)(a)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){return console.error("Error fetching foods for coach:",e),[]}}async getCustomFoodsForCoach(e){return console.warn("⚠️ getCustomFoodsForCoach is deprecated - application uses only USDA foods"),[]}async searchFoods(e,a){try{let i=await this.getFoodsForCoach(e),r=a.toLowerCase().trim();if(!r)return i;return i.filter(e=>e.name.toLowerCase().includes(r)||e.tags.some(e=>e.includes(r))||e.description&&e.description.toLowerCase().includes(r))}catch(e){throw console.error("Error searching foods:",e),Error("Failed to search foods")}}async getFoodsByCategory(e,a){try{return(await this.getFoodsForCoach(e)).filter(e=>e.category===a)}catch(e){throw console.error("Error fetching foods by category:",e),Error("Failed to fetch foods by category")}}async getFood(e){try{let a=await (0,t.QT)((0,t.JU)(o.db,this.collectionName,e));if(!a.exists())return null;return{id:a.id,...a.data()}}catch(e){throw console.error("Error fetching food:",e),Error("Failed to fetch food")}}async updateFood(e,a,i){try{let r=await this.getFood(e);if(!r)throw Error("Food not found");if(r.coachId!==a&&r.isGlobal)throw Error("Cannot edit global foods");if(r.coachId!==a&&!r.isGlobal)throw Error("Cannot edit food belonging to another coach");let n={...i,lastUpdated:t.EK.now()};i.tags&&(n.tags=i.tags.map(e=>e.toLowerCase().trim())),await (0,t.r7)((0,t.JU)(o.db,this.collectionName,e),n)}catch(e){throw console.error("Error updating food:",e),e}}async deleteFood(e,a){try{let i=await this.getFood(e);if(!i)throw Error("Food not found");if(i.coachId!==a)throw Error("Cannot delete food belonging to another coach");if(i.isGlobal)throw Error("Cannot delete global foods");await (0,t.oe)((0,t.JU)(o.db,this.collectionName,e))}catch(e){throw console.error("Error deleting food:",e),e}}async getFoodsByIds(e){try{if(0===e.length)return[];let a=e.map(e=>this.getFood(e));return(await Promise.all(a)).filter(e=>null!==e)}catch(e){throw console.error("Error fetching foods by IDs:",e),Error("Failed to fetch foods")}}constructor(){this.collectionName="foods"}}let s=new n,l=[{name:"chicken, breast, boneless, skinless, raw",category:"blue",description:"Chicken, breast, boneless, skinless, raw - USDA verified nutritional data (replaces: Chicken (skinless))",servingSize:"1 serving",portionGuidelines:"Unlimited - eat freely as part of balanced meals. Focus on variety and quality.",nutritionalInfo:{calories:106,protein:23,carbs:0,fat:2,fiber:0},fdcId:2646170,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","blue"],originalName:"Chicken (skinless)",migrationDate:"2025-07-27T00:35:35.042Z"},{name:"turkey, whole, breast, meat only, raw",category:"blue",description:"Turkey, whole, breast, meat only, raw - USDA verified nutritional data (replaces: Turkey (skinless))",servingSize:"1 serving",portionGuidelines:"Unlimited - eat freely as part of balanced meals. Focus on variety and quality.",nutritionalInfo:{calories:114,protein:24,carbs:0,fat:1,fiber:0},fdcId:171098,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","blue"],originalName:"Turkey (skinless)",migrationDate:"2025-07-27T00:35:35.848Z"},{name:"beef, carcass, separable lean and fat, choice, raw",category:"yellow",description:"Beef, carcass, separable lean and fat, choice, raw - USDA verified nutritional data (replaces: Beef, Lamb, Pork (grass-fed))",servingSize:"1 serving",portionGuidelines:"Moderate portions - 1-2 servings per meal. Balance with blue foods for optimal nutrition.",nutritionalInfo:{calories:1220,protein:17,carbs:0,fat:24,fiber:0},fdcId:169430,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","yellow"],originalName:"Beef, Lamb, Pork (grass-fed)",migrationDate:"2025-07-27T00:35:36.623Z"},{name:"duck, wild, breast, meat only, raw",category:"yellow",description:"Duck, wild, breast, meat only, raw - USDA verified nutritional data (replaces: Duck (skinless))",servingSize:"1 serving",portionGuidelines:"Moderate portions - 1-2 servings per meal. Balance with blue foods for optimal nutrition.",nutritionalInfo:{calories:515,protein:20,carbs:0,fat:4,fiber:0},fdcId:174469,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","yellow"],originalName:"Duck (skinless)",migrationDate:"2025-07-27T00:35:37.334Z"},{name:"chicken, liver, all classes, raw",category:"yellow",description:"Chicken, liver, all classes, raw - USDA verified nutritional data (replaces: Liver)",servingSize:"1 serving",portionGuidelines:"Moderate portions - 1-2 servings per meal. Balance with blue foods for optimal nutrition.",nutritionalInfo:{calories:496,protein:17,carbs:1,fat:5,fiber:0},fdcId:171060,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","yellow"],originalName:"Liver",migrationDate:"2025-07-27T00:35:38.113Z"},{name:"fish, salmon, atlantic, farmed, raw",category:"blue",description:"Fish, salmon, Atlantic, farmed, raw - USDA verified nutritional data (replaces: Salmon (wild-caught))",servingSize:"1 serving",portionGuidelines:"Unlimited - eat freely as part of balanced meals. Focus on variety and quality.",nutritionalInfo:{calories:208,protein:20,carbs:0,fat:13,fiber:0},fdcId:175167,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","blue"],originalName:"Salmon (wild-caught)",migrationDate:"2025-07-27T00:35:38.946Z"},{name:"sardine sandwich",category:"blue",description:"Sardine sandwich - USDA verified nutritional data (replaces: Sardines)",servingSize:"1 serving",portionGuidelines:"Unlimited - eat freely as part of balanced meals. Focus on variety and quality.",nutritionalInfo:{calories:234,protein:18,carbs:22,fat:8,fiber:1},fdcId:2707033,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","blue"],originalName:"Sardines",migrationDate:"2025-07-27T00:35:39.687Z"},{name:"fish, mackerel, atlantic, raw",category:"blue",description:"Fish, mackerel, Atlantic, raw - USDA verified nutritional data (replaces: Mackerel)",servingSize:"1 serving",portionGuidelines:"Unlimited - eat freely as part of balanced meals. Focus on variety and quality.",nutritionalInfo:{calories:858,protein:19,carbs:0,fat:14,fiber:0},fdcId:175119,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","blue"],originalName:"Mackerel",migrationDate:"2025-07-27T00:35:40.473Z"},{name:"clementine, raw",category:"blue",description:"Clementine, raw - USDA verified nutritional data (replaces: Arctic Char)",servingSize:"1 serving",portionGuidelines:"Unlimited - eat freely as part of balanced meals. Focus on variety and quality.",nutritionalInfo:{calories:53,protein:1,carbs:13,fat:0,fiber:2},fdcId:2709164,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","blue"],originalName:"Arctic Char",migrationDate:"2025-07-27T00:35:41.245Z"},{name:"sweet potato leaves, raw",category:"yellow",description:"Sweet potato leaves, raw - USDA verified nutritional data (replaces: Sweet Potato)",servingSize:"1 serving",portionGuidelines:"Moderate portions - 1-2 servings per meal. Balance with blue foods for optimal nutrition.",nutritionalInfo:{calories:175,protein:2,carbs:9,fat:1,fiber:5},fdcId:169303,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","yellow"],originalName:"Sweet Potato",migrationDate:"2025-07-27T00:35:42.018Z"},{name:"beets, raw",category:"blue",description:"Beets, raw - USDA verified nutritional data (replaces: Beets)",servingSize:"1 serving",portionGuidelines:"Unlimited - eat freely as part of balanced meals. Focus on variety and quality.",nutritionalInfo:{calories:45,protein:2,carbs:9,fat:0,fiber:3},fdcId:2685576,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","blue"],originalName:"Beets",migrationDate:"2025-07-27T00:35:42.807Z"},{name:"cassava, raw",category:"yellow",description:"Cassava, raw - USDA verified nutritional data (replaces: Cassava)",servingSize:"1 serving",portionGuidelines:"Moderate portions - 1-2 servings per meal. Balance with blue foods for optimal nutrition.",nutritionalInfo:{calories:667,protein:1,carbs:38,fat:0,fiber:2},fdcId:169985,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","yellow"],originalName:"Cassava",migrationDate:"2025-07-27T00:35:43.518Z"},{name:"spinach, raw",category:"blue",description:"Spinach, raw - USDA verified nutritional data (replaces: Spinach)",servingSize:"1 serving",portionGuidelines:"Unlimited - eat freely as part of balanced meals. Focus on variety and quality.",nutritionalInfo:{calories:27,protein:3,carbs:2,fat:1,fiber:2},fdcId:2709614,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","blue"],originalName:"Spinach",migrationDate:"2025-07-27T00:35:44.308Z"},{name:"kale, raw",category:"blue",description:"Kale, raw - USDA verified nutritional data (replaces: Kale)",servingSize:"1 serving",portionGuidelines:"Unlimited - eat freely as part of balanced meals. Focus on variety and quality.",nutritionalInfo:{calories:148,protein:3,carbs:4,fat:1,fiber:4},fdcId:168421,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","blue"],originalName:"Kale",migrationDate:"2025-07-27T00:35:45.064Z"},{name:"broccoli, raw",category:"blue",description:"Broccoli, raw - USDA verified nutritional data (replaces: Broccoli)",servingSize:"1 serving",portionGuidelines:"Unlimited - eat freely as part of balanced meals. Focus on variety and quality.",nutritionalInfo:{calories:39,protein:3,carbs:6,fat:0,fiber:2},fdcId:2709643,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","blue"],originalName:"Broccoli",migrationDate:"2025-07-27T00:35:45.850Z"},{name:"cauliflower, raw",category:"blue",description:"Cauliflower, raw - USDA verified nutritional data (replaces: Cauliflower)",servingSize:"1 serving",portionGuidelines:"Unlimited - eat freely as part of balanced meals. Focus on variety and quality.",nutritionalInfo:{calories:28,protein:2,carbs:5,fat:0,fiber:2},fdcId:2685573,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","blue"],originalName:"Cauliflower",migrationDate:"2025-07-27T00:35:46.406Z"},{name:"peppers, sweet, green, raw",category:"blue",description:"Peppers, sweet, green, raw - USDA verified nutritional data (replaces: Bell Peppers)",servingSize:"1 serving",portionGuidelines:"Unlimited - eat freely as part of balanced meals. Focus on variety and quality.",nutritionalInfo:{calories:23,protein:1,carbs:5,fat:0,fiber:1},fdcId:2709800,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","blue"],originalName:"Bell Peppers",migrationDate:"2025-07-27T00:35:47.212Z"},{name:"blueberries, raw",category:"blue",description:"Blueberries, raw - USDA verified nutritional data (replaces: Berries (mixed))",servingSize:"1 serving",portionGuidelines:"Unlimited - eat freely as part of balanced meals. Focus on variety and quality.",nutritionalInfo:{calories:64,protein:1,carbs:15,fat:0,fiber:2},fdcId:2709275,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","blue"],originalName:"Berries (mixed)",migrationDate:"2025-07-27T00:35:47.906Z"},{name:"lemon, raw",category:"blue",description:"Lemon, raw - USDA verified nutritional data (replaces: Lemon)",servingSize:"1 serving",portionGuidelines:"Unlimited - eat freely as part of balanced meals. Focus on variety and quality.",nutritionalInfo:{calories:29,protein:1,carbs:9,fat:0,fiber:3},fdcId:2709168,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","blue"],originalName:"Lemon",migrationDate:"2025-07-27T00:35:48.599Z"},{name:"lime, raw",category:"blue",description:"Lime, raw - USDA verified nutritional data (replaces: Lime)",servingSize:"1 serving",portionGuidelines:"Unlimited - eat freely as part of balanced meals. Focus on variety and quality.",nutritionalInfo:{calories:30,protein:1,carbs:11,fat:0,fiber:3},fdcId:2709170,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","blue"],originalName:"Lime",migrationDate:"2025-07-27T00:35:49.297Z"},{name:"grapes, raw",category:"yellow",description:"Grapes, raw - USDA verified nutritional data (replaces: Grapes)",servingSize:"1 serving",portionGuidelines:"Moderate portions - 1-2 servings per meal. Balance with blue foods for optimal nutrition.",nutritionalInfo:{calories:83,protein:1,carbs:19,fat:0,fiber:1},fdcId:2709237,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","yellow"],originalName:"Grapes",migrationDate:"2025-07-27T00:35:49.995Z"},{name:"apple, raw",category:"blue",description:"Apple, raw - USDA verified nutritional data (replaces: Apples)",servingSize:"1 serving",portionGuidelines:"Unlimited - eat freely as part of balanced meals. Focus on variety and quality.",nutritionalInfo:{calories:61,protein:0,carbs:15,fat:0,fiber:2},fdcId:2709215,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","blue"],originalName:"Apples",migrationDate:"2025-07-27T00:35:50.503Z"},{name:"banana, raw",category:"yellow",description:"Banana, raw - USDA verified nutritional data (replaces: Banana)",servingSize:"1 serving",portionGuidelines:"Moderate portions - 1-2 servings per meal. Balance with blue foods for optimal nutrition.",nutritionalInfo:{calories:97,protein:1,carbs:23,fat:0,fiber:2},fdcId:2709224,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","yellow"],originalName:"Banana",migrationDate:"2025-07-27T00:35:51.184Z"},{name:"nuts, almonds, whole, raw",category:"yellow",description:"Nuts, almonds, whole, raw - USDA verified nutritional data (replaces: Almonds)",servingSize:"1 serving",portionGuidelines:"Moderate portions - 1-2 servings per meal. Balance with blue foods for optimal nutrition.",nutritionalInfo:{calories:626,protein:22,carbs:20,fat:51,fiber:11},fdcId:2346393,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","yellow"],originalName:"Almonds",migrationDate:"2025-07-27T00:35:51.881Z"},{name:"nuts, walnuts, english, halves, raw",category:"yellow",description:"Nuts, walnuts, English, halves, raw - USDA verified nutritional data (replaces: Walnut)",servingSize:"1 serving",portionGuidelines:"Moderate portions - 1-2 servings per meal. Balance with blue foods for optimal nutrition.",nutritionalInfo:{calories:730,protein:15,carbs:11,fat:70,fiber:5},fdcId:2346394,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","yellow"],originalName:"Walnut",migrationDate:"2025-07-27T00:35:52.580Z"},{name:"seeds, chia seeds, dried",category:"yellow",description:"Seeds, chia seeds, dried - USDA verified nutritional data (replaces: Chia Seeds)",servingSize:"1 serving",portionGuidelines:"Moderate portions - 1-2 servings per meal. Balance with blue foods for optimal nutrition.",nutritionalInfo:{calories:2030,protein:17,carbs:42,fat:31,fiber:34},fdcId:170554,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","yellow"],originalName:"Chia Seeds",migrationDate:"2025-07-27T00:35:53.317Z"},{name:"quinoa, cooked",category:"yellow",description:"Quinoa, cooked - USDA verified nutritional data (replaces: Quinoa)",servingSize:"1 serving",portionGuidelines:"Moderate portions - 1-2 servings per meal. Balance with blue foods for optimal nutrition.",nutritionalInfo:{calories:503,protein:4,carbs:21,fat:2,fiber:3},fdcId:168917,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","yellow"],originalName:"Quinoa",migrationDate:"2025-07-27T00:35:54.041Z"},{name:"rice, brown, cooked, as ingredient",category:"yellow",description:"Rice, brown, cooked, as ingredient - USDA verified nutritional data (replaces: Brown Rice)",servingSize:"1 serving",portionGuidelines:"Moderate portions - 1-2 servings per meal. Balance with blue foods for optimal nutrition.",nutritionalInfo:{calories:124,protein:2,carbs:26,fat:1,fiber:1},fdcId:2710789,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","yellow"],originalName:"Brown Rice",migrationDate:"2025-07-27T00:35:54.784Z"},{name:"oats, raw",category:"yellow",description:"Oats, raw - USDA verified nutritional data (replaces: Oats (steel cut))",servingSize:"1 serving",portionGuidelines:"Moderate portions - 1-2 servings per meal. Balance with blue foods for optimal nutrition.",nutritionalInfo:{calories:379,protein:13,carbs:68,fat:7,fiber:10},fdcId:2708489,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","yellow"],originalName:"Oats (steel cut)",migrationDate:"2025-07-27T00:35:55.495Z"},{name:"buckwheat",category:"yellow",description:"Buckwheat - USDA verified nutritional data (replaces: Buckwheat)",servingSize:"1 serving",portionGuidelines:"Moderate portions - 1-2 servings per meal. Balance with blue foods for optimal nutrition.",nutritionalInfo:{calories:1440,protein:13,carbs:72,fat:3,fiber:10},fdcId:170286,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","yellow"],originalName:"Buckwheat",migrationDate:"2025-07-27T00:35:56.176Z"},{name:"millet, raw",category:"yellow",description:"Millet, raw - USDA verified nutritional data (replaces: Millet)",servingSize:"1 serving",portionGuidelines:"Moderate portions - 1-2 servings per meal. Balance with blue foods for optimal nutrition.",nutritionalInfo:{calories:1580,protein:11,carbs:73,fat:4,fiber:9},fdcId:169702,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","yellow"],originalName:"Millet",migrationDate:"2025-07-27T00:35:56.876Z"},{name:"egg, whole, raw",category:"blue",description:"Egg, whole, raw - USDA verified nutritional data (replaces: Eggs)",servingSize:"1 serving",portionGuidelines:"Unlimited - eat freely as part of balanced meals. Focus on variety and quality.",nutritionalInfo:{calories:143,protein:12,carbs:1,fat:10,fiber:0},fdcId:2707152,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","blue"],originalName:"Eggs",migrationDate:"2025-07-27T00:35:57.678Z"},{name:"yogurt, greek, plain, lowfat",category:"blue",description:"Yogurt, Greek, plain, lowfat - USDA verified nutritional data (replaces: Greek Yogurt)",servingSize:"1 serving",portionGuidelines:"Unlimited - eat freely as part of balanced meals. Focus on variety and quality.",nutritionalInfo:{calories:73,protein:10,carbs:4,fat:2,fiber:0},fdcId:170903,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","blue"],originalName:"Greek Yogurt",migrationDate:"2025-07-27T00:35:58.373Z"},{name:"avocado, raw",category:"yellow",description:"Avocado, raw - USDA verified nutritional data (replaces: Avocado)",servingSize:"1 serving",portionGuidelines:"Moderate portions - 1-2 servings per meal. Balance with blue foods for optimal nutrition.",nutritionalInfo:{calories:160,protein:2,carbs:9,fat:15,fiber:7},fdcId:2709223,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","yellow"],originalName:"Avocado",migrationDate:"2025-07-27T00:35:59.069Z"},{name:"olive oil",category:"yellow",description:"Olive oil - USDA verified nutritional data (replaces: Olive Oil)",servingSize:"1 serving",portionGuidelines:"Moderate portions - 1-2 servings per meal. Balance with blue foods for optimal nutrition.",nutritionalInfo:{calories:900,protein:0,carbs:0,fat:100,fiber:0},fdcId:2710186,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","yellow"],originalName:"Olive Oil",migrationDate:"2025-07-27T00:35:59.785Z"},{name:"coconut oil",category:"yellow",description:"Coconut oil - USDA verified nutritional data (replaces: Coconut Oil)",servingSize:"1 serving",portionGuidelines:"Moderate portions - 1-2 servings per meal. Balance with blue foods for optimal nutrition.",nutritionalInfo:{calories:895,protein:0,carbs:1,fat:99,fiber:0},fdcId:2710182,isGlobal:!0,isStandard:!0,source:"standard",tags:["usda","standard","verified","yellow"],originalName:"Coconut Oil",migrationDate:"2025-07-27T00:36:00.496Z"}];var d=i(666);function c(){let{user:e}=(0,d.a)(),[a,i]=(0,r.useState)([]),[o,n]=(0,r.useState)(!0),[c,u]=(0,r.useState)(null),f=async()=>{if(!e){i([]),n(!1);return}try{n(!0),u(null);let a=l.map((e,a)=>({...e,id:"usda-".concat(a),coachId:"global",createdAt:t.EK.now(),lastUpdated:t.EK.now()})),r=await s.getFoodsForCoach(e.uid);[...a,...r];let o=new Map;a.forEach(e=>{var a;let i=(null===(a=e.fdcId)||void 0===a?void 0:a.toString())||e.id;o.set(i,e)}),r.forEach(e=>{var a;let i=(null===(a=e.fdcId)||void 0===a?void 0:a.toString())||e.id;o.set(i,e)});let d=Array.from(o.values());d.sort((e,a)=>e.name.localeCompare(a.name)),i(d)}catch(e){console.error("Error loading foods:",e),u(e instanceof Error?e.message:"Failed to load foods")}finally{n(!1)}},g=async a=>{if(!e)return u("User not authenticated"),null;try{u(null),"fdcId"in a&&a.fdcId?console.log("Creating USDA-verified food:",a.name):(console.log("Creating manual food (fallback):",a.name),a.source="manual");let i=await s.createFood(e.uid,a);return await f(),i}catch(e){return console.error("Error creating food:",e),u(e instanceof Error?e.message:"Failed to create food"),null}},m=async(e,a)=>(console.warn("Food editing disabled - using USDA-verified foods only"),u("Food editing is disabled. Using USDA-verified foods only."),!1),p=async e=>(console.warn("Food deletion disabled - using USDA-verified foods only"),u("Food deletion is disabled. Using USDA-verified foods only."),!1),b=async e=>e.trim()?a.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())||a.category.toLowerCase().includes(e.toLowerCase())):a,v=async e=>a.filter(a=>a.category===e);return(0,r.useEffect)(()=>{f()},[e]),{foods:a,loading:o,error:c,loadFoods:f,createFood:g,updateFood:m,deleteFood:p,searchFoods:b,getFoodsByCategory:v}}}}]);
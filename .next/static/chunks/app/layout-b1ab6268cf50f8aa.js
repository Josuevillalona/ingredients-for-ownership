(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{7191:function(e,r,t){Promise.resolve().then(t.t.bind(t,3054,23)),Promise.resolve().then(t.bind(t,9336)),Promise.resolve().then(t.bind(t,6478)),Promise.resolve().then(t.bind(t,6410))},9336:function(e,r,t){"use strict";t.d(r,{ErrorBoundary:function(){return o}});var n=t(7437),a=t(2265);class o extends a.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r)}render(){if(this.state.hasError){if(this.props.fallback){let e=this.props.fallback;return(0,n.jsx)(e,{error:this.state.error,resetError:this.resetError})}return(0,n.jsx)("div",{className:"min-h-screen bg-brand-cream flex items-center justify-center px-4",children:(0,n.jsxs)("div",{className:"bg-brand-white rounded-xl p-8 shadow-sm border border-brand-gold/20 text-center max-w-md",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-red-600 text-2xl",children:"⚠️"})}),(0,n.jsx)("h2",{className:"font-prompt font-bold text-xl text-brand-dark mb-4",children:"Something went wrong"}),(0,n.jsx)("p",{className:"text-brand-dark/60 mb-6",children:"We encountered an unexpected error. Please try refreshing the page."}),(0,n.jsx)("button",{onClick:this.resetError,className:"bg-brand-gold text-brand-white px-6 py-2 rounded-lg font-prompt font-medium hover:bg-brand-hover transition-colors",children:"Try Again"})]})})}return this.props.children}constructor(e){super(e),this.resetError=()=>{this.setState({hasError:!1,error:void 0})},this.state={hasError:!1}}}},6478:function(e,r,t){"use strict";t.d(r,{NetworkStatusIndicator:function(){return o}});var n=t(7437),a=t(2265);function o(){let{isOnline:e,wasOffline:r}=function(){let[e,r]=(0,a.useState)(!0),[t,n]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=()=>{r(!0),t&&setTimeout(()=>n(!1),3e3)},a=()=>{r(!1),n(!0)};return r(navigator.onLine),window.addEventListener("online",e),window.addEventListener("offline",a),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",a)}},[t]),{isOnline:e,wasOffline:t}}();return e&&!r?null:(0,n.jsx)("div",{className:"fixed top-0 left-0 right-0 z-50 px-4 py-2 text-center text-sm font-prompt transition-colors ".concat(e?"bg-green-500 text-white":"bg-red-500 text-white"),children:e?"✅ Back online - data will sync":"⚠️ No internet connection - working offline"})}},6410:function(e,r,t){"use strict";t.d(r,{AuthProvider:function(){return h},a:function(){return l}});var n=t(7437),a=t(2265),o=t(5735),s=t(9842),i=t(5419);class c{async signIn(e,r){try{return(await (0,o.e5)(i.I,e,r)).user}catch(e){throw Error(this.getAuthErrorMessage(e.code))}}async createCoach(e,r,t){try{let n=await (0,o.Xb)(i.I,e,r),a={email:e,name:t,createdAt:s.EK.now(),preferences:{colorCodingStyle:"standard"}};await (0,s.pl)((0,s.JU)(i.db,"coaches",n.user.uid),a)}catch(e){throw Error(this.getAuthErrorMessage(e.code))}}async signOut(){try{await (0,o.w7)(i.I)}catch(e){throw Error("Failed to sign out. Please try again.")}}async getCoachProfile(e){try{let r=(0,s.JU)(i.db,"coaches",e),t=await (0,s.QT)(r);if(t.exists())return{id:t.id,...t.data()};return null}catch(e){return console.error("Error fetching coach profile:",e),null}}onAuthStateChange(e){return(0,o.Aj)(i.I,e)}getCurrentUser(){return i.I.currentUser}getAuthErrorMessage(e){switch(e){case"auth/user-not-found":return"No account found with this email address.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/email-already-in-use":return"An account with this email already exists.";case"auth/weak-password":return"Password should be at least 6 characters long.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";default:return"An error occurred during authentication. Please try again."}}}let u=new c,d=(0,a.createContext)(void 0);function l(){let e=(0,a.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function h(e){let{children:r}=e,[t,o]=(0,a.useState)(null),[s,i]=(0,a.useState)(null),[c,l]=(0,a.useState)(!0);(0,a.useEffect)(()=>u.onAuthStateChange(async e=>{if(o(e),e)try{let r=await u.getCoachProfile(e.uid);i(r)}catch(e){console.error("Error fetching coach profile:",e),i(null)}else i(null);l(!1)}),[]);let h=async(e,r)=>{l(!0);try{await u.signIn(e,r)}catch(e){throw l(!1),e}},f=async(e,r,t)=>{l(!0);try{await u.createCoach(e,r,t),await u.signIn(e,r)}catch(e){throw l(!1),e}},g=async()=>{l(!0);try{await u.signOut()}catch(e){throw l(!1),e}},w=async()=>{if(t)try{let e=await u.getCoachProfile(t.uid);i(e)}catch(e){console.error("Error refreshing coach profile:",e)}};return(0,n.jsx)(d.Provider,{value:{user:t,coach:s,loading:c,signIn:h,signUp:f,signOut:g,refreshCoachProfile:w},children:r})}},5419:function(e,r,t){"use strict";t.d(r,{I:function(){return c},db:function(){return i}});var n=t(5236),a=t(9842),o=t(5735);let s=(0,n.ZF)({apiKey:"AIzaSyBQZagyMTpFNsoSOh4cKT8PVV_xbCuiX8s",authDomain:"ingredients-for-ownershi-81eaf.firebaseapp.com",projectId:"ingredients-for-ownershi-81eaf",storageBucket:"ingredients-for-ownershi-81eaf.firebasestorage.app",messagingSenderId:"855662446831",appId:"1:855662446831:web:deff590004f93f5cec731a"}),i=(0,a.ad)(s),c=(0,o.v0)(s)},3054:function(){}},function(e){e.O(0,[141,358,139,990,836,971,23,744],function(){return e(e.s=7191)}),_N_E=e.O()}]);